

@model ORCA.Models.Consultation.Consultation

@using ORCA.Models.Consultation


<p>
    <h3>Filter Consultations</h3>
    <div>
        <input type="button" value="All" class="btn btn-default" onclick="location.href='@Url.Action("Consults", new { consultationModel = Model, filterTicketOption = Consultation.TicketFilterOption.All })'" />

        <input type="button" value="Open" class="btn btn-default" onclick="location.href='@Url.Action("Consults", new { consultationModel = Model, filterTicketOption = Consultation.TicketFilterOption.Open })'" />

        <input type="button" value="Closed" class="btn btn-default" onclick="location.href='@Url.Action("Consults", new { consultationModel = Model, filterTicketOption = Consultation.TicketFilterOption.Closed })'" />

        <input type="button" value="New Reply" class="btn btn-default" onclick="location.href='@Url.Action("Consults", new { consultationModel = Model, filterTicketOption = Consultation.TicketFilterOption.NewReply })'" />
    </div>
</p>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@*ticketid     dtstamp   status   orcausername    last replied   description*@

<table class="table">

    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().TicketID)
            @Html.ActionLink("TicketID", "Consults", new { consulTationModel = Model, Consultation.TicketSortOption.TicketID, toggleIfSame = true })
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().DTStamp)
            @Html.ActionLink("DTStamp", "Consults", new { consulTationModel = Model, Consultation.TicketSortOption.DTStamp, toggleIfSame = true })
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().TicketStatus)
            @Html.ActionLink("DTStamp", "Consults", new { consulTationModel = Model, Consultation.TicketSortOption.TicketStatus, toggleIfSame = true })
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().OrcaUserName)
            @Html.ActionLink("DTStamp", "Consults", new { consulTationModel = Model, Consultation.TicketSortOption.OrcaUserName, toggleIfSame = true })
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().OrcaUserIDLastReplied)
            @Html.ActionLink("OrcaUserIDLastReplied", "Consults", new { consulTationModel = Model, Consultation.TicketSortOption.OrcaUserIDLastReplied, toggleIfSame = true })
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().DescriptionName)
            @Html.ActionLink("DescriptionName", "Consults", new { consulTationModel = Model, Consultation.TicketSortOption.DescriptionName, toggleIfSame = true })
        </th>
        <th>
    </tr>
    

    @foreach (var item in Model.ConsultationTickets)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.TicketID)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DTStamp)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TicketStatus)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OrcaUserName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OrcaUserIDLastReplied)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DescriptionName)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.TicketID }) |
                @Html.ActionLink("Details", "Details", new { id = item.TicketID }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.TicketID })
            </td>
        </tr>
    }

</table>














@*<div>
    <h4>Consultation</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>@Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().TicketID)</dt>
        <dd>@Html.DisplayFor(model => model.ConsultationTickets.FirstOrDefault().TicketID)</dd>

        <dt>@Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().OrcaUserName)</dt>
        <dd>@Html.DisplayFor(model => model.ConsultationTickets.FirstOrDefault().OrcaUserName)</dd>

        <dt>@Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().DTStamp)</dt>
        <dd>@Html.DisplayFor(model => model.ConsultationTickets.FirstOrDefault().DTStamp)</dd>

        <dt>@Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().OrcaUserIDLastReplied)</dt>
        <dd>@Html.DisplayFor(model => model.ConsultationTickets.FirstOrDefault().OrcaUserIDLastReplied)</dd>

        <dt>@Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().DescriptionName)</dt>
        <dd>@Html.DisplayFor(model => model.ConsultationTickets.FirstOrDefault().DescriptionName)</dd>

        <dt>@Html.DisplayNameFor(model => model.ConsultationTickets.FirstOrDefault().TicketStatus)</dt>
        <dd>@Html.DisplayFor(model => model.ConsultationTickets.FirstOrDefault().TicketStatus)</dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
    @Html.ActionLink("Back to List", "Index")
</p>*@
